# 前端高压线.md

侵权
1、禁止使用未得到授权的字体、图片等资源

布局
1、必须适配iphoneX、折叠屏等特殊屏幕机型
2、css3属性必须添加-webkit-前缀，做好低版本系统兼容
3、必须使用dpr和rem进行页面布局

请求
1、禁止使用ajax轮询，必要情况下需要向后端确认并发量
2、禁止ajax的timeout设置过大，或者不设置
3、禁止页面上发送未使用到的请求
4、进入时即需要发送的请求，必须和后端确认并发量再使用，禁止未通知后端的情况下直接使用
5、页面中的地址禁止使用带http:// 或 https:// 的协议头链接（除客户端协议外）

静态资源
1、页面图片必须压缩，禁止使用未压缩的图片
2、页面中引用的js、css、img等静态资源，禁止使用相对路径，必须使用静态资源服务器链接
3、页面中引用的js、css必须压缩
4、静态资源链接上禁止拼接“？+参数”，必须使用 “.时间戳.”或者“&时间戳”

安全
1、文本框，需要防xss注入
2、涉及到账号、密码、手机号等敏感信息的，禁止未加密直接发送请求
3、页面上显示的非当前用户的用户名、手机号、昵称等必须加“*”处理，禁止直接完全展示
4、设计到用户敏感信息、权限相关的数据，必须使用cookie校验，禁止直接使用userid校验
5、提测、发布、线上投放地址必须使用https地址

前端开发规范
侵权
1、字体使用font-family:”PingFang Medium”,”PingFang SC”,”Source Han Sans”;三种字体

布局
1、iphoneX等适配-适配规则
2、折叠屏适配-适配规则
3、dpr、rem-引用最新版rem库 /v2.10/common/rem.js

请求
1、页面中ajax请求超时时间设置值3s，过长的超时时间需要和后端确认
2、页面中ajax请求数据，可以取缓存的，不能使用带时间戳的请求链接，需要设置cache：true
3、ajax请求时需要加进程锁（页面中只请求一次的除外）
4、页面中需要设置协议头的地方，使用window.location.protocol获取
5、数据量大的时候，需要进行分页请求
6、避免同一个数据接口重复请求，可以做本地存储（sessionStorage或localStorage）

静态资源
1、页面、css中引用的图片资源，可以使用相对地址，打包后会自动转为静态资源服务器地址，不允许线上使用非静态资源地址
2、js中写的图片地址，需要书写绝对路径，否则无法自动打包为静态资源服务器地址
3、可以cb的静态资源，进行cb再引入，有修改后必须修改时间戳，否则静态资源服务器缓存（10年）
4、图片修改后，需要修改图片名称，以免静态资源服务器上缓存（图片缓存30年）
5、图片进行压缩-在线压缩

安全
1、防xss注入，传输数据前或展示返回数据前进行html标签匹配过滤
2、跨域请求，使用v2/common/zepto.js，并ajax上设置“xhrFields:{withCredentials:true}”，传递user和ticket字段进行校验